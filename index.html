<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thomas PPA System - Official Version</title>
    <style>
        :root {
            --thomas-blue: #004080;
            --thomas-green: #8DC53F;
            --thomas-light-green: #DFEDC4;
            --thomas-grey: #57575A;
        }

        body { font-family: Arial, sans-serif; margin: 0; padding: 0; color: var(--thomas-blue); background-color: #fff; }
        
        /* Header & Brand */
        .header { padding: 15px 40px; display: flex; justify-content: flex-start; align-items: center; }
        .logo-box { display: flex; align-items: center; gap: 8px; }
        .logo-symbol { width: 22px; height: 22px; border: 3px solid #F39200; transform: rotate(45deg); border-radius: 4px; }
        .logo-text { font-size: 26px; font-weight: bold; color: #333; letter-spacing: -1px; }
        .divider { height: 8px; background-color: var(--thomas-green); margin-bottom: 20px; }
        
        .container { max-width: 1000px; margin: 0 auto; padding: 0 40px; position: relative; min-height: 500px; }
        .pp-branding { position: absolute; right: 40px; top: 10px; display: flex; align-items: baseline; opacity: 0.8; }
        .pp-text { font-size: 60px; font-family: "Times New Roman", serif; color: var(--thomas-blue); }
        .pp-arrow { color: var(--thomas-green); font-size: 40px; margin-left: -5px; font-weight: 100; }

        .page-title { color: var(--thomas-green); font-size: 18px; font-weight: bold; margin-bottom: 20px; }
        .section-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; color: var(--thomas-blue); }
        .info-p { font-size: 11px; line-height: 1.5; max-width: 750px; color: var(--thomas-blue); }
        .mandatory { color: red; }

        /* Form Grid */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; margin-top: 25px; }
        .form-group { display: flex; align-items: center; margin-bottom: 10px; font-size: 11px; }
        .form-group label { width: 150px; text-align: right; margin-right: 15px; color: var(--thomas-blue); }
        input[type="text"], input[type="email"], select { border: 1px solid #ccc; padding: 4px; width: 240px; font-size: 12px; }

        /* Buttons */
        .btn-thomas { 
            background: linear-gradient(to bottom, #ffffff 0%, #e5e5e5 100%);
            border: 1px solid #ababab; border-radius: 18px; 
            padding: 5px 25px; font-size: 11px; cursor: pointer; color: #444;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .btn-thomas:hover { border-color: #888; background: #f0f0f0; }
        .btn-thomas:disabled { opacity: 0.5; cursor: not-allowed; }

        /* Quiz Layout */
        .quiz-row { display: flex; align-items: center; margin-bottom: 12px; }
        .row-label { width: 130px; font-size: 11px; font-weight: bold; text-align: right; padding-right: 20px; color: var(--thomas-blue); }
        .words-container { 
            display: grid; grid-template-columns: repeat(4, 160px); 
            background-color: #E8F1F8; padding: 12px; border-radius: 4px; 
        }
        .word-box { text-align: center; }
        .word-label { display: block; margin-bottom: 8px; font-size: 12px; color: var(--thomas-blue); font-weight: bold; }

        .progress-section { display: flex; align-items: center; gap: 15px; margin: 20px 0; font-size: 11px; font-weight: bold; }
        .progress-bar { width: 350px; height: 12px; background: #eee; border-radius: 6px; overflow: hidden; border: 1px solid #ddd; }
        .progress-fill { height: 100%; background: var(--thomas-green); width: 0%; transition: 0.4s; }

        .footer { margin-top: 100px; padding: 20px 40px; border-top: 1px solid var(--thomas-light-green); font-size: 10px; color: #666; }
        .view { display: none; }
        .active { display: block; }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo-box">
            <div class="logo-symbol"></div>
            <div class="logo-text">thomas</div>
        </div>
    </div>
    <div class="divider"></div>

    <div class="container">
        <div class="pp-branding"><span class="pp-text">PP</span><span class="pp-arrow">◁</span></div>

        <section id="view-data" class="view active">
            <div class="page-title">Профильный Анализ Личности</div>
            <div class="section-title">Персональные данные</div>
            <form id="ppa-form" action="https://formspree.io/f/ВАШ_EMAIL@DOMAIN.COM" method="POST">
                <div class="form-grid">
                    <div>
                        <div class="form-group"><label>Обращение</label><input type="text" name="Title"></div>
                        <div class="form-group"><label>Имя <span class="mandatory">*</span></label><input type="text" id="f-name" name="FirstName" required></div>
                        <div class="form-group"><label>Фамилия <span class="mandatory">*</span></label><input type="text" id="l-name" name="LastName" required></div>
                        <div class="form-group"><label>Email <span class="mandatory">*</span></label><input type="email" id="u-email" name="Email" required></div>
                    </div>
                    <div>
                        <div class="form-group"><label>Страна <span class="mandatory">*</span></label>
                            <select name="Country"><option>Uzbekistan</option><option>Russia</option><option>Kazakhstan</option></select>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="hidden-answers" name="Answers">
                <div style="padding-left: 165px; margin-top: 30px;">
                    <button type="button" class="btn-thomas" onclick="startProcess()">Подтвердить</button>
                </div>
            </form>
        </section>

        <section id="view-instr" class="view">
            <div class="page-title">Профильный Анализ Личности</div>
            <div class="section-title">Добро пожаловать</div>
            <p class="info-p">Это не тест. Здесь нет "правильных" или "неправильных" ответов. Результаты исследования акцентируют внимание на Ваших сильных сторонах в работе.</p>
            <div class="section-title" style="margin-top:25px;">Инструкция</div>
            <p class="info-p">Каждая часть оценки содержит два ряда по четыре описательных слова.<br><br>
               1. В первом ряду выберите слово, которое <b>НАИБОЛЕЕ</b> характеризует Вас, нажав на него.<br>
               2. Во втором ряду выберите слово, которое <b>НАИМЕНЕЕ</b> характеризует Вас, нажав на него.</p>
            <button class="btn-thomas" style="margin-top:30px;" onclick="switchView('view-quiz')">Продолжить</button>
        </section>

        <section id="view-quiz" class="view">
            <div class="page-title">Профильный Анализ Личности</div>
            <p class="info-p">Выберите одно слово, которое БОЛЕЕ ВСЕГО характеризует Ваше поведение в рабочей обстановке...</p>
            
            <div class="progress-section">
                <span id="prog-text">Выполнено 1 / 24</span>
                <div class="progress-bar"><div id="prog-fill" class="progress-fill"></div></div>
            </div>

            <div class="quiz-row">
                <div class="row-label">Точно как я</div>
                <div class="words-container" id="row-most"></div>
            </div>
            <div class="quiz-row">
                <div class="row-label">Совсем не как я</div>
                <div class="words-container" id="row-least"></div>
            </div>

            <div class="btn-container" style="display: flex; justify-content: center; gap: 20px; margin-top: 40px;">
                <button class="btn-thomas" id="p-btn" onclick="prev()">Предыдущий вопрос</button>
                <button class="btn-thomas" onclick="switchView('view-instr')">Инструкция</button>
                <button class="btn-thomas" id="n-btn" onclick="next()" disabled>Следующий вопрос</button>
                <button class="btn-thomas" id="f-btn" style="display:none;" onclick="submitFinal()">Завершить</button>
            </div>
        </section>

        <section id="view-final" class="view">
            <div class="page-title">Профильный Анализ Личности</div>
            <div class="section-title" style="color: var(--thomas-blue);">Спасибо за заполнение опросника!</div>
            <p class="info-p" style="font-size: 13px; margin-top: 20px;">Сообщение о заполнении будет отправлено администратору. Пожалуйста, свяжитесь с ним для получения более подробной информации о результатах исследования.</p>
        </section>
    </div>

    <div class="footer">
        Copyright © 2002-2026 Thomas International Ltd | <a href="#">Privacy Notice</a> | <a href="#">Advice for Candidates</a>
    </div>

    <script>
        const questions = [
            ["мягкий", "убеждающий", "скромный", "оригинальный"],
            ["привлекательный", "обязательный", "упорный", "милый"],
            ["неугомонный", "добрососедский", "популярный", "преданный"],
            // Добавьте остальные 21 группу слов сюда
        ];
        
        let step = 0;
        let results = [];
        const total = 24;

        function switchView(id) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'view-quiz') render();
        }

        function startProcess() {
            if(!document.getElementById('f-name').value || !document.getElementById('u-email').value) {
                alert("Пожалуйста, заполните все обязательные поля (*)");
                return;
            }
            switchView('view-instr');
        }

        function render() {
            const words = questions[step] || ["Слово 1", "Слово 2", "Слово 3", "Слово 4"];
            const m = document.getElementById('row-most');
            const l = document.getElementById('row-least');
            m.innerHTML = ''; l.innerHTML = '';

            words.forEach((w, i) => {
                m.innerHTML += `<div class="word-box"><label class="word-label">${w}</label><input type="radio" name="m" value="${w}" onchange="checkLogic(${i},'l')"></div>`;
                l.innerHTML += `<div class="word-box"><label class="word-label">${w}</label><input type="radio" name="l" value="${w}" onchange="checkLogic(${i},'m')"></div>`;
            });

            document.getElementById('prog-text').innerText = `Выполнено ${step + 1} / ${total}`;
            document.getElementById('prog-fill').style.width = `${((step + 1) / total) * 100}%`;
            checkButtons();
        }

        function checkLogic(idx, otherRow) {
            const other = document.getElementsByName(otherRow);
            if(other[idx].checked) {
                other[idx].checked = false; // Блокировка выбора одного слова дважды
            }
            checkButtons();
        }

        function checkButtons() {
            const mSelected = document.querySelector('input[name="m"]:checked');
            const lSelected = document.querySelector('input[name="l"]:checked');
            const isReady = mSelected && lSelected; // Блокировка перехода без выбора
            
            const isLast = (step === total - 1);
            document.getElementById('n-btn').disabled = !isReady || isLast;
            document.getElementById('n-btn').style.display = isLast ? 'none' : 'block';
            document.getElementById('f-btn').style.display = (isLast && isReady) ? 'block' : 'none';
        }

        function next() {
            const m = document.querySelector('input[name="m"]:checked').value;
            const l = document.querySelector('input[name="l"]:checked').value;
            results[step] = { most: m, least: l };
            step++;
            render();
        }

        function prev() { if(step > 0) { step--; render(); } }

        function submitFinal() {
            const m = document.querySelector('input[name="m"]:checked').value;
            const l = document.querySelector('input[name="l"]:checked').value;
            results[step] = { most: m, least: l };
            
            // Сохраняем все ответы в скрытое поле для отправки
            document.getElementById('hidden-answers').value = JSON.stringify(results);
            
            const form = document.getElementById('ppa-form');
            // Имитация отправки (в реальности раскомментируйте form.submit())
            console.log("Данные отправлены администратору:", results);
            switchView('view-final');
            // form.submit(); 
        }
    </script>
</body>
</html>
